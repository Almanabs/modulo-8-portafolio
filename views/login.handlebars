{{#if successMessages}}
  <div class="alert alert-success">
    {{#each successMessages}}
      {{this}}
    {{/each}}
  </div>
{{/if}}

<div id="error-messages" class="alert alert-danger d-none"></div>

<div class="container">
  <h1 class="mt-4">Iniciar sesión</h1>
  <form id="login-form" class="mt-4">
    <div class="mb-3">
  <label for="correo" class="form-label">Correo electrónico</label>
  <input type="email" class="form-control" id="correo" name="correo" required>
</div>
<div class="mb-3">
  <label for="contrasena" class="form-label">Contraseña</label>
  <input type="password" class="form-control" id="contrasena" name="contrasena" required>
</div>
    <button type="submit" class="btn btn-primary">Iniciar sesión</button>
  </form>
</div>



<script src="/js/clientAuth.js"></script>

<script>
  document.getElementById('login-form').addEventListener('submit', async (e) => {
    e.preventDefault();

    const correo = document.getElementById('correo').value;
    const contrasena = document.getElementById('contrasena').value;

    try {
      await login(correo, contrasena);
      // Redireccionar a la página deseada después de iniciar sesión exitosamente
      
    } catch (error) {
      // Manejar error en caso de que la respuesta no sea exitosa
      console.error('Error en el inicio de sesión:', error);
      const errorMessageElement = document.getElementById('error-messages');
      errorMessageElement.textContent = error;
      errorMessageElement.classList.remove('d-none');
    }
  });
</script>

